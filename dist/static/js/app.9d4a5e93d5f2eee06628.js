webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},a,!1,function(t){n("W5FR")},null,null).exports,s=n("/ocq"),u={data:function(){return{}},props:{max:Number,min:Number,remaining:Array,current:Array},computed:{nums:function(){var t=this.max;return Array(t).fill(0).map(function(e,n){return t-n})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[t._l(t.max,function(e){return n("tr",{key:e,staticClass:"body"},[n("td",[t._v(t._s(t.max-e+1))]),t._v(" "),t._l(t.max,function(r){return n("td",{key:r},[n("div",{staticClass:"block",class:{grey:t.max-e+1<r||r<t.min,finished:!t.remaining.find(function(n){return n[0]==r&&n[1]==t.max-e+1}),current:t.current&&t.current[0]==r&&t.current[1]==t.max-e+1}})])})],2)}),t._v(" "),n("tfoot",[n("tr",[n("th"),t._v(" "),t._l(t.max||10,function(e){return n("th",{key:e},[t._v(t._s(e))])})],2)])],2)},staticRenderFns:[]};var c=n("VU/8")(u,o,!1,function(t){n("SlIu")},"data-v-46e49ae2",null).exports,m={name:"MultVis",props:{max:Number,current:Array},data:function(){return{}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[t._l(t.max,function(e){return n("tr",{key:t.max-e+1},[n("td",{},[t._v(t._s(t.max-e+1))]),t._v(" "),t._l(t.max,function(r){return n("td",{key:""+r},[n("div",{staticClass:"block",class:{marked:t.current&&t.current[0]>=t.max-e+1&&t.current[1]>=r}})])})],2)}),t._v(" "),n("tfoot",[n("tr",[n("td"),t._v(" "),t._l(t.max,function(e){return n("td",{key:e},[t._v(t._s(e))])})],2)])],2)},staticRenderFns:[]};var d=n("VU/8")(m,l,!1,function(t){n("rd4l")},"data-v-05ff2ee0",null).exports,v={render:function(){var t=this.$createElement;return(this._self._c||t)("input")},staticRenderFns:[]};var p=n("VU/8")({},v,!1,function(t){n("UUBv")},"data-v-e278adf6",null).exports,f={components:{ProgVis:c,MultVis:d,BInput:p},data:function(){for(var t=[],e=2;e<10;e++)for(var n=e;n<10;n++)t.push([e,n]);return{remaining:t,current:null,max:9,min:2,running:!1,start:null,end:null}},props:{debug:Boolean},methods:{getNext:function(){0!==this.remaining.length?this.current=this.remaining.splice(Math.floor(Math.random()*this.remaining.length),1)[0]:this.endGame()},endGame:function(){this.end=performance.now(),this.running=!1,this.$router.push({name:"Home",params:{registeredTime:(this.end-this.start)/1e3,max:this.max,min:this.min}})},startGame:function(){this.start=performance.now(),this.current||this.getNext(),this.running=!0,this.$refs.numinput.focus(),console.log(this.$refs.numinput)},onInput:function(t){t.target.value=t.target.value.replace(/\D/,""),Number(t.target.value)==this.current[0]*this.current[1]&&(t.target.value=null,this.getNext())}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:function(e){t.$refs.numinput.focus()}}},[n("div",{staticClass:"container"},[n("div",[n("mult-vis",{attrs:{max:t.max,current:t.current}}),t._v(" "),n("p",{staticClass:"mult-text"},[t._v(t._s(t.current?t.current.join(" * "):"start the gamp"))]),t._v(" "),n("input",{ref:"numinput",staticClass:"number-input",attrs:{type:"text",min:"0",maxlength:String(t.max*t.max).length,max:t.max*t.max,autofocus:"true",disabled:!t.running,placeholder:t.current?t.current.join(" * "):"start the gamp"},on:{input:t.onInput}})],1),t._v(" "),n("div",{staticClass:"gutter"}),t._v(" "),n("prog-vis",{attrs:{remaining:t.remaining,current:t.current,max:t.max,min:t.min,highlight:null}})],1),t._v(" "),t.running?t._e():n("button",{on:{click:t.startGame}},[t._v("Start")]),t._v(" "),t.debug?n("button",{on:{click:function(e){t.remaining.length=0}}},[t._v("Cleanse!")]):t._e(),t._v(" "),t.end?n("p",[t._v(t._s(t.end/1e3))]):t._e()])},staticRenderFns:[]};var _=n("VU/8")(f,h,!1,function(t){n("zTpR")},"data-v-e9afe3a2",null).exports,g={data:function(){return{loadingScores:!0,scores:[]}},mounted:function(){this.fetchScoreboard()},methods:{fetchScoreboard:function(){var t=this;this.$http.get("/scores").then(function(e){t.scores=e.data,t.loadingScores=!1}).catch(console.error)}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[t._m(0),t._v(" "),t._l(t.scores,function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(r+1))]),t._v(" "),n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.time))])])})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Time")])])])}]};var b={components:{ScoreBoard:n("VU/8")(g,x,!1,function(t){n("pENF")},"data-v-76781afc",null).exports,BInput:p},props:{registeredTime:Number,max:Number,min:Number},methods:{postResult:function(){var t=this;this.posting||this.$http.post("/scores",{time:this.registeredTime,max:this.max,min:this.min,name:this.name}).then(function(e){t.registeredTime=null,t.posting=!0,t.$refs.scoreboard.fetchScoreboard()}).catch(function(e){t.posting=!1})}},data:function(){return{name:"",posting:!1}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container"},[n("score-board",{ref:"scoreboard"})],1),t._v(" "),n("div",{staticClass:"container"},[n("div",[n("router-link",{staticClass:"link",attrs:{to:"/play"}},[n("button",{staticClass:"button"},[t._v("Play")])])],1)]),t._v(" "),t.registeredTime>0?n("div",{staticClass:"mt col"},[n("div",[n("h2",[t._v("Your result")]),t._v(" "),n("p",[t._v("Your time was "+t._s(t.registeredTime)+" seconds")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"number-input",attrs:{type:"text",autofocus:"true",placeholder:"Enter a name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),n("button",{staticClass:"button",on:{click:t.postResult}},[t._v("Post")])]):t._e()])},staticRenderFns:[]};var k=n("VU/8")(b,y,!1,function(t){n("Q/Kg")},"data-v-61800464",null).exports;r.a.use(s.a);var N=new s.a({routes:[{path:"/",name:"Home",component:k,props:!0},{path:"/play",name:"Game",component:_}]}),$=n("mtWM"),C=n.n($);r.a.config.productionTip=!1,r.a.prototype.$http=C.a.create({baseURL:"http://localhost:1234/"}),new r.a({el:"#app",router:N,components:{App:i},template:"<App/>"})},"Q/Kg":function(t,e){},SlIu:function(t,e){},UUBv:function(t,e){},W5FR:function(t,e){},pENF:function(t,e){},rd4l:function(t,e){},zTpR:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9d4a5e93d5f2eee06628.js.map